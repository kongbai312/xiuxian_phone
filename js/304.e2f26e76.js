"use strict";(self["webpackChunkxiuxianphone"]=self["webpackChunkxiuxianphone"]||[]).push([[304],{8304:function(e,a,i){i.r(a),i.d(a,{default:function(){return J}});var l=i(9085),t=(i(444),i(3114)),n=(i(9840),i(6589),i(2732)),o=(i(4367),i(6252)),u=i(2262),c=i(3577),r=i(9963),s=i(4181),d=i(5781),v=i(5027),m=i(9809),g=i(2111),h=i(9460),p=i(2410);const f=(0,v.o8)({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:m.AA,default:""},inactiveIcon:{type:m.AA,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:(0,v.Cq)(Function)},size:{type:String,validator:g.P},tabindex:{type:[String,Number]}}),S={[h.f_]:e=>(0,p.jn)(e)||(0,c.HD)(e)||(0,p.hj)(e),[h.O7]:e=>(0,p.jn)(e)||(0,c.HD)(e)||(0,p.hj)(e),[h.e_]:e=>(0,p.jn)(e)||(0,c.HD)(e)||(0,p.hj)(e)};var w=i(1446),y=i(9966),b=i(5711),k=i(9143),U=i(9379),_=i(8360),x=i(4721);const C=["onClick"],V=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],I=["aria-hidden"],j=["aria-hidden"],q=["aria-hidden"],z=["aria-hidden"],F={name:"ElSwitch"},D=(0,o.aZ)({...F,props:f,emits:S,setup(e,{expose:a,emit:i}){const l=e,t="ElSwitch",n=(0,o.FN)(),{formItem:v}=(0,y.A)(),m=(0,b.tH)(),g=(0,k.s)("switch");(0,U.A)({from:'"value"',replacement:'"model-value" or "v-model"',scope:t,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},(0,o.Fl)((()=>{var e;return!!(null==(e=n.vnode.props)?void 0:e.value)})));const{inputId:f}=(0,y.p)(l,{formItemContext:v}),S=(0,b.B4)((0,o.Fl)((()=>l.loading))),w=(0,u.iH)(!1!==l.modelValue),F=(0,u.iH)(),D=(0,u.iH)(),H=(0,o.Fl)((()=>[g.b(),g.m(m.value),g.is("disabled",S.value),g.is("checked",A.value)])),T=(0,o.Fl)((()=>({width:(0,_.Nn)(l.width)})));(0,o.YP)((()=>l.modelValue),(()=>{w.value=!0})),(0,o.YP)((()=>l.value),(()=>{w.value=!1}));const P=(0,o.Fl)((()=>w.value?l.modelValue:l.value)),A=(0,o.Fl)((()=>P.value===l.activeValue));[l.activeValue,l.inactiveValue].includes(P.value)||(i(h.f_,l.inactiveValue),i(h.O7,l.inactiveValue),i(h.e_,l.inactiveValue)),(0,o.YP)(A,(e=>{var a;F.value.checked=e,l.validateEvent&&(null==(a=null==v?void 0:v.validate)||a.call(v,"change").catch((e=>(0,x.N)(e))))}));const B=()=>{const e=A.value?l.inactiveValue:l.activeValue;i(h.f_,e),i(h.O7,e),i(h.e_,e),(0,o.Y3)((()=>{F.value.checked=A.value}))},N=()=>{if(S.value)return;const{beforeChange:e}=l;if(!e)return void B();const a=e(),i=[(0,c.tI)(a),(0,p.jn)(a)].includes(!0);i||(0,x._)(t,"beforeChange must return type `Promise<boolean>` or `boolean`"),(0,c.tI)(a)?a.then((e=>{e&&B()})).catch((e=>{(0,x.N)(t,`some error occurred: ${e}`)})):a&&B()},L=(0,o.Fl)((()=>g.cssVarBlock({...l.activeColor?{"on-color":l.activeColor}:null,...l.inactiveColor?{"off-color":l.inactiveColor}:null,...l.borderColor?{"border-color":l.borderColor}:null}))),W=()=>{var e,a;null==(a=null==(e=F.value)?void 0:e.focus)||a.call(e)};return(0,o.bv)((()=>{F.value.checked=A.value})),a({focus:W}),(e,a)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,c.C_)((0,u.SU)(H)),style:(0,c.j5)((0,u.SU)(L)),onClick:(0,r.iM)(N,["prevent"])},[(0,o._)("input",{id:(0,u.SU)(f),ref_key:"input",ref:F,class:(0,c.C_)((0,u.SU)(g).e("input")),type:"checkbox",role:"switch","aria-checked":(0,u.SU)(A),"aria-disabled":(0,u.SU)(S),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:(0,u.SU)(S),tabindex:e.tabindex,onChange:B,onKeydown:(0,r.D2)(N,["enter"])},null,42,V),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?(0,o.kq)("v-if",!0):((0,o.wg)(),(0,o.iD)("span",{key:0,class:(0,c.C_)([(0,u.SU)(g).e("label"),(0,u.SU)(g).em("label","left"),(0,u.SU)(g).is("active",!(0,u.SU)(A))])},[e.inactiveIcon?((0,o.wg)(),(0,o.j4)((0,u.SU)(s.gn),{key:0},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.inactiveIcon)))])),_:1})):(0,o.kq)("v-if",!0),!e.inactiveIcon&&e.inactiveText?((0,o.wg)(),(0,o.iD)("span",{key:1,"aria-hidden":(0,u.SU)(A)},(0,c.zw)(e.inactiveText),9,I)):(0,o.kq)("v-if",!0)],2)),(0,o._)("span",{ref_key:"core",ref:D,class:(0,c.C_)((0,u.SU)(g).e("core")),style:(0,c.j5)((0,u.SU)(T))},[e.inlinePrompt?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,c.C_)((0,u.SU)(g).e("inner"))},[e.activeIcon||e.inactiveIcon?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[e.activeIcon?((0,o.wg)(),(0,o.j4)((0,u.SU)(s.gn),{key:0,class:(0,c.C_)([(0,u.SU)(g).is("icon"),(0,u.SU)(A)?(0,u.SU)(g).is("show"):(0,u.SU)(g).is("hide")])},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.activeIcon)))])),_:1},8,["class"])):(0,o.kq)("v-if",!0),e.inactiveIcon?((0,o.wg)(),(0,o.j4)((0,u.SU)(s.gn),{key:1,class:(0,c.C_)([(0,u.SU)(g).is("icon"),(0,u.SU)(A)?(0,u.SU)(g).is("hide"):(0,u.SU)(g).is("show")])},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.inactiveIcon)))])),_:1},8,["class"])):(0,o.kq)("v-if",!0)],64)):e.activeText||e.inactiveIcon?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[e.activeText?((0,o.wg)(),(0,o.iD)("span",{key:0,class:(0,c.C_)([(0,u.SU)(g).is("text"),(0,u.SU)(A)?(0,u.SU)(g).is("show"):(0,u.SU)(g).is("hide")]),"aria-hidden":!(0,u.SU)(A)},(0,c.zw)(e.activeText.substring(0,3)),11,j)):(0,o.kq)("v-if",!0),e.inactiveText?((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,c.C_)([(0,u.SU)(g).is("text"),(0,u.SU)(A)?(0,u.SU)(g).is("hide"):(0,u.SU)(g).is("show")]),"aria-hidden":(0,u.SU)(A)},(0,c.zw)(e.inactiveText.substring(0,3)),11,q)):(0,o.kq)("v-if",!0)],64)):(0,o.kq)("v-if",!0)],2)):(0,o.kq)("v-if",!0),(0,o._)("div",{class:(0,c.C_)((0,u.SU)(g).e("action"))},[e.loading?((0,o.wg)(),(0,o.j4)((0,u.SU)(s.gn),{key:0,class:(0,c.C_)((0,u.SU)(g).is("loading"))},{default:(0,o.w5)((()=>[(0,o.Wm)((0,u.SU)(d.gbz))])),_:1},8,["class"])):(0,o.kq)("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?(0,o.kq)("v-if",!0):((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,c.C_)([(0,u.SU)(g).e("label"),(0,u.SU)(g).em("label","right"),(0,u.SU)(g).is("active",(0,u.SU)(A))])},[e.activeIcon?((0,o.wg)(),(0,o.j4)((0,u.SU)(s.gn),{key:0},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.activeIcon)))])),_:1})):(0,o.kq)("v-if",!0),!e.activeIcon&&e.activeText?((0,o.wg)(),(0,o.iD)("span",{key:1,"aria-hidden":!(0,u.SU)(A)},(0,c.zw)(e.activeText),9,z)):(0,o.kq)("v-if",!0)],2))],14,C))}});var H=(0,w.Z)(D,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]),T=i(2123);const P=(0,T.nz)(H);i(3241);var A=i(244);const B={ref:"backgroundContainer",class:"login_container"},N={src:"http://yunqi-xiuxian.oss-cn-hangzhou.aliyuncs.com/xiuxian_bk_music_1.mp3",loop:"true",autoplay:"autoplay",ref:"Music",preload:"auto"},L={class:"login_box"},W=(0,o._)("img",{class:"loginImg",src:A,alt:""},null,-1),Y=(0,o.Uk)("登录");function Z(e,a,i,u,c,r){const s=P,d=n.EZ,v=t.nH,m=t.ly,g=l.mi;return(0,o.wg)(),(0,o.iD)("div",B,[(0,o._)("audio",N,null,512),(0,o.Wm)(s,{onChange:u.musicPlay,modelValue:u.musicShow,"onUpdate:modelValue":a[0]||(a[0]=e=>u.musicShow=e),class:"musicBtn","active-text":"开","inactive-text":"关"},null,8,["onChange","modelValue"]),(0,o._)("div",L,[W,(0,o.Wm)(m,{ref:"userFormRef","hide-required-asterisk":"",style:{height:"12vh"},model:u.userForm,rules:u.loginRules,"label-width":"40px"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{prop:"zhanghao",label:"账号"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{style:{width:"70vw"},modelValue:u.userForm.zhanghao,"onUpdate:modelValue":a[1]||(a[1]=e=>u.userForm.zhanghao=e),placeholder:"用户名"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(v,{prop:"mima",label:"密码"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{style:{width:"70vw"},modelValue:u.userForm.mima,"onUpdate:modelValue":a[2]||(a[2]=e=>u.userForm.mima=e),placeholder:"请输入登录密码"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),(0,o.Wm)(g,{class:"login_btn",type:"primary",size:"large",onClick:u.login},{default:(0,o.w5)((()=>[Y])),_:1},8,["onClick"])])],512)}var E=i(9489),M=(i(8438),i(9279)),R=i(2201),O=i(3907),K={name:"Login",setup(){const e=(0,u.iH)(!0),a=(0,u.iH)(null),i=()=>{!0===e.value?a.value.play():a.value.pause()};(0,o.bv)((()=>{r.value.onmousedown=()=>{a.value.play(),r.value.onmousedown=null}}));const l=(0,u.qj)({zhanghao:"tianhuaban2",mima:"112233"}),t=(0,u.iH)(null),n=(0,R.tv)(),c=(0,O.oR)(),r=(0,u.iH)(null);let s=(0,u.iH)(null);s.value=Math.round(8*Math.random())+1,(0,o.bv)((()=>{r.value.style.backgroundImage=`url('http://yunqi-xiuxian.oss-cn-hangzhou.aliyuncs.com/xiuxian_login_${s.value}.jpg')`}));const d={zhanghao:[{required:!0,trigger:"blur",message:"用户名不能为空"},{trigger:"blur",validator:M.Z.validateAccount}],mima:[{required:!0,trigger:"blur",message:"密码不能为空"},{trigger:"blur",validator:M.Z.validatePassword}]},v=()=>{t.value.validate((async e=>{if(e)try{await c.dispatch("user/login",l),await c.dispatch("user/getUserToken",l),c.dispatch("user/addAccountArrAction"),E.z8.success("登录成功"),n.push("/home")}catch(x){console.log(x),E.z8.error(x.message)}}))};return{musicShow:e,userForm:l,loginRules:d,login:v,userFormRef:t,backgroundContainer:r,musicPlay:i,Music:a}}},$=i(3744);const G=(0,$.Z)(K,[["render",Z]]);var J=G}}]);
//# sourceMappingURL=304.e2f26e76.js.map